<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="685px" preserveAspectRatio="none" style="width:746px;height:685px;background:#FFFFFF;" version="1.1" viewBox="0 0 746 685" width="746px" zoomAndPan="magnify"><title>Check-in Flow</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="94.8965" x="326.7061" y="29.5332">Check-in Flow</text><rect fill="none" height="356.7031" style="stroke:#000000;stroke-width:1.5;" width="627.1377" x="112.1709" y="229.2734"/><rect fill="none" height="187.9453" style="stroke:#000000;stroke-width:1.5;" width="607.1377" x="122.1709" y="391.0313"/><g><title>Staff</title><rect fill="#000000" fill-opacity="0.00000" height="481.7578" width="8" x="18.3965" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="22" x2="22" y1="121.2188" y2="602.9766"/></g><g><title>Check-in UI</title><rect fill="#000000" fill-opacity="0.00000" height="481.7578" width="8" x="171.7363" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="175.1709" x2="175.1709" y1="121.2188" y2="602.9766"/></g><g><title>.api.checkin</title><rect fill="#000000" fill-opacity="0.00000" height="481.7578" width="8" x="365.5488" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="368.5835" x2="368.5835" y1="121.2188" y2="602.9766"/></g><g><title>Prisma . PostgreSQL</title><rect fill="#000000" fill-opacity="0.00000" height="481.7578" width="8" x="642.564" y="121.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="645.8193" x2="645.8193" y1="121.2188" y2="602.9766"/></g><g class="participant participant-head" data-participant="Staff"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28.793" x="5" y="118.1426">Staff</text><ellipse cx="22.3965" cy="52.1094" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M22.3965,60.1094 L22.3965,87.1094 M9.3965,68.1094 L35.3965,68.1094 M22.3965,87.1094 L9.3965,102.1094 M22.3965,87.1094 L35.3965,102.1094" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Staff"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28.793" x="5" y="616.5098">Staff</text><ellipse cx="22.3965" cy="628.0859" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M22.3965,636.0859 L22.3965,663.0859 M9.3965,644.0859 L35.3965,644.0859 M22.3965,663.0859 L9.3965,678.0859 M22.3965,663.0859 L35.3965,678.0859" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="UI"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87.1309" x="132.1709" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.1309" x="139.1709" y="110.1426">Check-in UI</text></g><g class="participant participant-tail" data-participant="UI"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87.1309" x="132.1709" y="601.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.1309" x="139.1709" y="623.5098">Check-in UI</text></g><g class="participant participant-head" data-participant="API"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87.9307" x="325.5835" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.9307" x="332.5835" y="110.1426">/api/checkin</text></g><g class="participant participant-tail" data-participant="API"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87.9307" x="325.5835" y="601.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.9307" x="332.5835" y="623.5098">/api/checkin</text></g><g class="participant participant-head" data-participant="DB"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="145.4893" x="573.8193" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131.4893" x="580.8193" y="110.1426">Prisma / PostgreSQL</text></g><g class="participant participant-tail" data-participant="DB"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="145.4893" x="573.8193" y="601.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131.4893" x="580.8193" y="623.5098">Prisma / PostgreSQL</text></g><g class="message" data-participant-1="Staff" data-participant-2="UI"><polygon fill="#181818" points="163.7363,149.5703,173.7363,153.5703,163.7363,157.5703,167.7363,153.5703" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="22.3965" x2="169.7363" y1="153.5703" y2="153.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.3398" x="29.3965" y="148.7139">Scan QR / Enter Code</text></g><g class="message" data-participant-1="UI" data-participant-2="API"><polygon fill="#181818" points="357.5488,179.9219,367.5488,183.9219,357.5488,187.9219,361.5488,183.9219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="175.7363" x2="363.5488" y1="183.9219" y2="183.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169.8125" x="182.7363" y="179.0654">POST /api/checkin { qrCode }</text></g><g class="message" data-participant-1="API" data-participant-2="DB"><polygon fill="#181818" points="634.564,210.2734,644.564,214.2734,634.564,218.2734,638.564,214.2734" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="369.5488" x2="640.564" y1="214.2734" y2="214.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152.4707" x="376.5488" y="209.417">find registration by qrCode</text></g><path d="M112.1709,229.2734 L172.3418,229.2734 L172.3418,237.625 L162.3418,247.625 L112.1709,247.625 L112.1709,229.2734" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="356.7031" style="stroke:#000000;stroke-width:1.5;" width="627.1377" x="112.1709" y="229.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="127.1709" y="243.7686">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="121.5908" x="187.3418" y="242.6924">[registration not found]</text><g class="message" data-participant-1="DB" data-participant-2="API"><polygon fill="#181818" points="380.5488,265.9766,370.5488,269.9766,380.5488,273.9766,376.5488,269.9766" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="374.5488" x2="645.564" y1="269.9766" y2="269.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20.2363" x="386.5488" y="265.1201">null</text></g><g class="message" data-participant-1="API" data-participant-2="UI"><polygon fill="#181818" points="186.7363,296.3281,176.7363,300.3281,186.7363,304.3281,182.7363,300.3281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="180.7363" x2="368.5488" y1="300.3281" y2="300.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85.9917" x="192.7363" y="295.4717">404 Invalid QR</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="112.1709" x2="739.3086" y1="309.3281" y2="309.3281"/><g class="message" data-participant-1="DB" data-participant-2="API"><polygon fill="#181818" points="380.5488,328.6797,370.5488,332.6797,380.5488,336.6797,376.5488,332.6797" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="374.5488" x2="645.564" y1="332.6797" y2="332.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64.3081" x="386.5488" y="327.8232">registration</text></g><g class="message" data-participant-1="API" data-participant-2="API"><line style="stroke:#181818;stroke-width:1;" x1="369.5488" x2="411.5488" y1="363.0313" y2="363.0313"/><line style="stroke:#181818;stroke-width:1;" x1="411.5488" x2="411.5488" y1="363.0313" y2="376.0313"/><line style="stroke:#181818;stroke-width:1;" x1="370.5488" x2="411.5488" y1="376.0313" y2="376.0313"/><polygon fill="#181818" points="380.5488,372.0313,370.5488,376.0313,380.5488,380.0313,376.5488,376.0313" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="263.0151" x="376.5488" y="358.1748">check time window (start - 1h &lt;= now &lt;= end)</text></g><path d="M122.1709,391.0313 L182.3418,391.0313 L182.3418,399.3828 L172.3418,409.3828 L122.1709,409.3828 L122.1709,391.0313" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="187.9453" style="stroke:#000000;stroke-width:1.5;" width="607.1377" x="122.1709" y="391.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="137.1709" y="405.5264">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="80.6416" x="197.3418" y="404.4502">[not in window]</text><g class="message" data-participant-1="API" data-participant-2="UI"><polygon fill="#181818" points="186.7363,427.7344,176.7363,431.7344,186.7363,435.7344,182.7363,431.7344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="180.7363" x2="368.5488" y1="431.7344" y2="431.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153.207" x="192.7363" y="426.8779">400 Check-in not available</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="122.1709" x2="729.3086" y1="440.7344" y2="440.7344"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="105.7676" x="127.1709" y="452.1533">[already checked in]</text><g class="message" data-participant-1="API" data-participant-2="UI"><polygon fill="#181818" points="186.7363,473.9219,176.7363,477.9219,186.7363,481.9219,182.7363,477.9219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="180.7363" x2="368.5488" y1="477.9219" y2="477.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.1416" x="192.7363" y="473.0654">409 Already checked in</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="122.1709" x2="729.3086" y1="486.9219" y2="486.9219"/><g class="message" data-participant-1="API" data-participant-2="DB"><polygon fill="#181818" points="634.564,506.2734,644.564,510.2734,634.564,514.2734,638.564,510.2734" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="369.5488" x2="640.564" y1="510.2734" y2="510.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.0044" x="376.5488" y="505.417">create checkIn record</text></g><g class="message" data-participant-1="DB" data-participant-2="API"><polygon fill="#181818" points="380.5488,536.625,370.5488,540.625,380.5488,544.625,376.5488,540.625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="374.5488" x2="645.564" y1="540.625" y2="540.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44.8018" x="386.5488" y="535.7686">checkIn</text></g><g class="message" data-participant-1="API" data-participant-2="UI"><polygon fill="#181818" points="186.7363,566.9766,176.7363,570.9766,186.7363,574.9766,182.7363,570.9766" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="180.7363" x2="368.5488" y1="570.9766" y2="570.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.4326" x="192.7363" y="566.1201">200 Success</text></g><!--SRC=[RP7BIaCn48RtUOgXArqSMgKRHOLU50g2fnvzW6cIqmRJf2RJ7ehuxaxIYxqjGY3ppV__Co53LiDWfkLNOHoyMDy8WP9yW8gmhiK20nbf5kW8MdlkSzG2Z7mTrzkuC6sP8ECoq2jFY3AOE4TeG-aZJOEkngyP7FQ5o8PGFB4it4CbqS7udT5dHph0m2ijkC9rLcMWVAi-uD0HVk0x90n-HKAO7FOPh8rJ4FJKH0f8nZkOhBUaG4l79US9QhzqIa3gBlPsRcajlsNXNSPkfmiZjq9h54SLsaPzsdOelclVrN9k83FNq716ty1L9DuM570pWuT73jEaIpjrpRqfQuh7asvmVZiBrFd_pCJY2et5YKsvKZmM2HhLUkEj5OjTKhc3tYLkE-1-ZBnUoI3f3JXoFB3qGMNgQ17R-hdRBMUkbbBg69C5RpwTFm00]--></g></svg>